---
import { getCollection } from "astro:content";
import { Picture } from "@astrojs/image/components";
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";

import Cta from "@components/cta.astro";

// Filter team entries with 'draft: false' & date before current date
const webCards = await getCollection("web", ({ data }) => {
  return !data.draft && data.publishDate < new Date();
});
---

<Layout title="Développement web">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Développement web</Fragment>
      <Fragment slot="desc">
        Passionné par le monde numérique, je vous accompagne dans la
        concrétisation de vos projets web. Des sites vitrines aux applications
        métier, chaque projet est une aventure où qualité, technologie et
        communication sont au cœur de ma démarche.
      </Fragment>
    </Sectionhead>

    <div class="flex flex-col gap-3 mx-auto max-w-4xl mt-16">
      <h2 class="font-bold text-3xl text-gray-800">Ma méthode</h2>
      <p class="text-lg leading-relaxed text-slate-500">
        Chaque projet est unique, tout comme votre vision et vos besoins. En
        tant que développeur web freelance, je m'attache à comprendre vos
        ambitions pour y répondre avec précision. J'adapte les technologies
        utilisées à chaque demande, garantissant ainsi une solution sur mesure.
        Soucieux de fournir un travail de qualité, je m'appuie sur des principes
        agiles qui favorisent la communication et la collaboration entre nous.
        Cette approche permet d'ajuster le projet au fil de l'eau, de prioriser
        les tâches et de livrer une solution qui dépasse vos attentes.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-10 mx-auto max-w-4xl mt-24">
      <h2 class="col-span-3 font-bold text-3xl text-gray-800">
        Mais c'est quoi la différence ?
      </h2>
      {
        webCards.map((webEntry) => (
          <div class="group">
            <div class="w-full aspect-square">
              <Picture
                src={webEntry.data.avatar.src}
                alt={webEntry.data.avatar.alt}
                sizes="(max-width: 800px) 100vw, 400px"
                widths={[200, 400]}
                aspectRatio="1:1"
                background="#ffffff"
                fit="cover"
                position="center"
                class="w-full rounded-md transition group-hover:-translate-y-1 group-hover:shadow-xl"
              />
            </div>

            <div class="mt-4 text-center">
              <h2 class="text-lg text-gray-800">{webEntry.data.title}</h2>
              <h3 class="text-sm text-slate-500">
                {webEntry.data.description}
              </h3>
            </div>
          </div>
        ))
      }
    </div>
    <Cta />
  </Container>
</Layout>
